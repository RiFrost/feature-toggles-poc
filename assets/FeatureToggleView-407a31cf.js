import{d as y,P as x,r as b,c as f,t as j,o as O,a as E,u as g,i as T,p as P,b as z,e as A,w as W,h as V,V as q,f as Y,F as C,g as $,j as J,k as S,l as _,m as u,n as Q,q as X,v as Z,s as N,x as ee,y as te,z as ne,A as D}from"./index-5885ac34.js";var L=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(L||{});let le=y({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:l,attrs:s}){return()=>{let{features:t,...o}=e,n={"aria-hidden":(t&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(t&4)===4&&(t&2)!==2&&{display:"none"}}};return x({ourProps:n,theirProps:o,slot:{},attrs:s,slots:l,name:"Hidden"})}}});function se(e){var l;let s=(l=e==null?void 0:e.form)!=null?l:e.closest("form");if(s){for(let t of s.elements)if(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image"){t.click();return}}}function ae(e,l,s){let t=b(s==null?void 0:s.value),o=f(()=>e.value!==void 0);return[f(()=>o.value?e.value:t.value),function(n){return o.value||(t.value=n),l==null?void 0:l(n)}]}let U=Symbol("DescriptionContext");function oe(){let e=T(U,null);if(e===null)throw new Error("Missing parent");return e}function re({slot:e=b({}),name:l="Description",props:s={}}={}){let t=b([]);function o(n){return t.value.push(n),()=>{let i=t.value.indexOf(n);i!==-1&&t.value.splice(i,1)}}return P(U,{register:o,slot:e,name:l,props:s}),f(()=>t.value.length>0?t.value.join(" "):void 0)}let ye=y({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${j()}`}},setup(e,{attrs:l,slots:s}){let t=oe();return O(()=>E(t.register(e.id))),()=>{let{name:o="Description",slot:n=b({}),props:i={}}=t,{id:d,...c}=e,p={...Object.entries(i).reduce((a,[v,h])=>Object.assign(a,{[v]:g(h)}),{}),id:d};return x({ourProps:p,theirProps:c,slot:n.value,attrs:l,slots:s,name:o})}}}),B=Symbol("LabelContext");function H(){let e=T(B,null);if(e===null){let l=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(l,H),l}return e}function ie({slot:e={},name:l="Label",props:s={}}={}){let t=b([]);function o(n){return t.value.push(n),()=>{let i=t.value.indexOf(n);i!==-1&&t.value.splice(i,1)}}return P(B,{register:o,slot:e,name:l,props:s}),f(()=>t.value.length>0?t.value.join(" "):void 0)}let xe=y({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${j()}`}},setup(e,{slots:l,attrs:s}){let t=H();return O(()=>E(t.register(e.id))),()=>{let{name:o="Label",slot:n={},props:i={}}=t,{id:d,passive:c,...p}=e,a={...Object.entries(i).reduce((v,[h,k])=>Object.assign(v,{[h]:g(k)}),{}),id:d};return c&&(delete a.onClick,delete p.onClick),x({ourProps:a,theirProps:p,slot:n,attrs:s,slots:l,name:o})}}}),M=Symbol("GroupContext");y({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:s}){let t=b(null),o=ie({name:"SwitchLabel",props:{onClick(){!t.value||(t.value.click(),t.value.focus({preventScroll:!0}))}}}),n=re({name:"SwitchDescription"});return P(M,{switchRef:t,labelledby:o,describedby:n}),()=>x({theirProps:e,ourProps:{},slot:{},slots:l,attrs:s,name:"SwitchGroup"})}});let ue=y({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${j()}`}},inheritAttrs:!1,setup(e,{emit:l,attrs:s,slots:t,expose:o}){let n=T(M,null),[i,d]=ae(f(()=>e.modelValue),r=>l("update:modelValue",r),f(()=>e.defaultChecked));function c(){d(!i.value)}let p=b(null),a=n===null?p:n.switchRef,v=z(f(()=>({as:e.as,type:s.type})),a);o({el:a,$el:a});function h(r){r.preventDefault(),c()}function k(r){r.key===$.Space?(r.preventDefault(),c()):r.key===$.Enter&&se(r.currentTarget)}function F(r){r.preventDefault()}let w=f(()=>{var r,m;return(m=(r=A(a))==null?void 0:r.closest)==null?void 0:m.call(r,"form")});return O(()=>{W([w],()=>{if(!w.value||e.defaultChecked===void 0)return;function r(){d(e.defaultChecked)}return w.value.addEventListener("reset",r),()=>{var m;(m=w.value)==null||m.removeEventListener("reset",r)}},{immediate:!0})}),()=>{let{id:r,name:m,value:G,...I}=e,K={checked:i.value},R={id:r,ref:a,role:"switch",type:v.value,tabIndex:0,"aria-checked":i.value,"aria-labelledby":n==null?void 0:n.labelledby.value,"aria-describedby":n==null?void 0:n.describedby.value,onClick:h,onKeyup:k,onKeypress:F};return V(C,[m!=null&&i.value!=null?V(le,q({features:L.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:i.value,name:m,value:G})):null,x({ourProps:R,theirProps:{...s,...Y(I,["modelValue","defaultChecked"])},slot:K,attrs:s,slots:t,name:"Switch"})])}}});const de={class:"flex justify-center"},ce=u("span",{class:"sr-only"},"Use setting",-1),pe={class:"flex justify-center"},fe={class:"toggle2-button mt-10 ml-3 flex w-1/4 items-center justify-center rounded-md border border-transparent bg-indigo-600 py-3 px-8 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},ve={class:"relative px-6 lg:px-8"},me={class:"mx-auto max-w-2xl py-16 sm:py-24 lg:py-28"},be={class:"text-center"},ge={class:"text-2xl font-bold tracking-tight text-blue-900 sm:text-4xl"},we={__name:"FeatureToggleView",setup(e){const l="https://poc-feature-toggles.herokuapp.com/api";var s=J(),t=b(""),o=f(()=>s.getToggles);function n(){console.log(o.value)}async function i(){return await ee.get(`${l}/getSampleMessage`).then(d=>{t.value=d.data}).catch(d=>console.log(d))}return(d,c)=>{var p;return S(),_(C,null,[u("div",de,[(S(!0),_(C,null,Q(g(o),a=>(S(),_("div",{class:"mx-8 py-8",key:a},[te(g(ue),{modelValue:a.enabled,"onUpdate:modelValue":v=>a.enabled=v,class:D([[a.enabled?"bg-emerald-700":"bg-gray-700",a.name],"relative inline-flex h-[38px] w-[74px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"]),onClick:v=>g(s).updateToggle(a)},{default:ne(()=>[ce,u("span",{"aria-hidden":"true",class:D([a.enabled?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[34px] w-[34px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:2},1032,["modelValue","onUpdate:modelValue","class","onClick"]),u("h2",null,N(a.name),1)]))),128)),u("button",{onClick:c[0]||(c[0]=a=>n())},"Print Toggles")]),u("div",pe,[u("button",{onClick:c[1]||(c[1]=a=>i()),class:"mt-10 ml-3 flex w-1/4 items-center justify-center rounded-md border border-transparent bg-indigo-600 py-3 px-8 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Get Message "),X(u("button",fe," Only shows when Toggle 2 is on ",512),[[Z,(p=g(o).SHOW_UI_BUTTON)==null?void 0:p.enabled]])]),u("main",null,[u("div",ve,[u("div",me,[u("div",be,[u("h1",ge,N(g(t)),1)])])])])],64)}}};export{we as default};
