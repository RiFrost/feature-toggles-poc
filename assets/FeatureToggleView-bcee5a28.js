import{d as y,P as x,r as v,c as f,t as O,o as j,a as D,u as b,i as T,p as N,b as W,e as z,w as A,h as P,V as q,f as Y,F as C,g as V,j as J,k,l as _,m as d,n as Q,q as X,v as Z,s as U,x as ee,y as te,z as ne,A as $}from"./index-8e909f03.js";var E=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(E||{});let le=y({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:l,attrs:s}){return()=>{let{features:t,...r}=e,n={"aria-hidden":(t&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(t&4)===4&&(t&2)!==2&&{display:"none"}}};return x({ourProps:n,theirProps:r,slot:{},attrs:s,slots:l,name:"Hidden"})}}});function se(e){var l;let s=(l=e==null?void 0:e.form)!=null?l:e.closest("form");if(s){for(let t of s.elements)if(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image"){t.click();return}}}function ae(e,l,s){let t=v(s==null?void 0:s.value),r=f(()=>e.value!==void 0);return[f(()=>r.value?e.value:t.value),function(n){return r.value||(t.value=n),l==null?void 0:l(n)}]}let L=Symbol("DescriptionContext");function re(){let e=T(L,null);if(e===null)throw new Error("Missing parent");return e}function oe({slot:e=v({}),name:l="Description",props:s={}}={}){let t=v([]);function r(n){return t.value.push(n),()=>{let a=t.value.indexOf(n);a!==-1&&t.value.splice(a,1)}}return N(L,{register:r,slot:e,name:l,props:s}),f(()=>t.value.length>0?t.value.join(" "):void 0)}let ye=y({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${O()}`}},setup(e,{attrs:l,slots:s}){let t=re();return j(()=>D(t.register(e.id))),()=>{let{name:r="Description",slot:n=v({}),props:a={}}=t,{id:c,...p}=e,i={...Object.entries(a).reduce((u,[h,g])=>Object.assign(u,{[h]:b(g)}),{}),id:c};return x({ourProps:i,theirProps:p,slot:n.value,attrs:l,slots:s,name:r})}}}),B=Symbol("LabelContext");function H(){let e=T(B,null);if(e===null){let l=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(l,H),l}return e}function ie({slot:e={},name:l="Label",props:s={}}={}){let t=v([]);function r(n){return t.value.push(n),()=>{let a=t.value.indexOf(n);a!==-1&&t.value.splice(a,1)}}return N(B,{register:r,slot:e,name:l,props:s}),f(()=>t.value.length>0?t.value.join(" "):void 0)}let xe=y({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${O()}`}},setup(e,{slots:l,attrs:s}){let t=H();return j(()=>D(t.register(e.id))),()=>{let{name:r="Label",slot:n={},props:a={}}=t,{id:c,passive:p,...i}=e,u={...Object.entries(a).reduce((h,[g,S])=>Object.assign(h,{[g]:b(S)}),{}),id:c};return p&&(delete u.onClick,delete i.onClick),x({ourProps:u,theirProps:i,slot:n,attrs:s,slots:l,name:r})}}}),M=Symbol("GroupContext");y({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:s}){let t=v(null),r=ie({name:"SwitchLabel",props:{onClick(){!t.value||(t.value.click(),t.value.focus({preventScroll:!0}))}}}),n=oe({name:"SwitchDescription"});return N(M,{switchRef:t,labelledby:r,describedby:n}),()=>x({theirProps:e,ourProps:{},slot:{},slots:l,attrs:s,name:"SwitchGroup"})}});let ue=y({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${O()}`}},inheritAttrs:!1,setup(e,{emit:l,attrs:s,slots:t,expose:r}){let n=T(M,null),[a,c]=ae(f(()=>e.modelValue),o=>l("update:modelValue",o),f(()=>e.defaultChecked));function p(){c(!a.value)}let i=v(null),u=n===null?i:n.switchRef,h=W(f(()=>({as:e.as,type:s.type})),u);r({el:u,$el:u});function g(o){o.preventDefault(),p()}function S(o){o.key===V.Space?(o.preventDefault(),p()):o.key===V.Enter&&se(o.currentTarget)}function F(o){o.preventDefault()}let w=f(()=>{var o,m;return(m=(o=z(u))==null?void 0:o.closest)==null?void 0:m.call(o,"form")});return j(()=>{A([w],()=>{if(!w.value||e.defaultChecked===void 0)return;function o(){c(e.defaultChecked)}return w.value.addEventListener("reset",o),()=>{var m;(m=w.value)==null||m.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{id:o,name:m,value:I,...G}=e,K={checked:a.value},R={id:o,ref:u,role:"switch",type:h.value,tabIndex:0,"aria-checked":a.value,"aria-labelledby":n==null?void 0:n.labelledby.value,"aria-describedby":n==null?void 0:n.describedby.value,onClick:g,onKeyup:S,onKeypress:F};return P(C,[m!=null&&a.value!=null?P(le,q({features:E.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:a.value,name:m,value:I})):null,x({ourProps:R,theirProps:{...s,...Y(G,["modelValue","defaultChecked"])},slot:K,attrs:s,slots:t,name:"Switch"})])}}});const de={class:"flex justify-center"},ce=d("span",{class:"sr-only"},"Use setting",-1),pe={class:"flex justify-center"},fe={class:"toggle2-button mt-10 ml-3 flex w-1/4 items-center justify-center rounded-md border border-transparent bg-indigo-600 py-3 px-8 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},me={class:"relative px-6 lg:px-8"},ve={class:"mx-auto max-w-2xl py-16 sm:py-24 lg:py-28"},be={class:"text-center"},he={class:"text-2xl font-bold tracking-tight text-blue-900 sm:text-4xl"},we={__name:"FeatureToggleView",setup(e){const l="https://poc-feature-toggles.herokuapp.com/api";var s=J(),t=v(""),r=f(()=>s.getToggles);async function n(){return await ee.get(`${l}/getSampleMessage`).then(a=>{t.value=a.data}).catch(a=>console.log(a))}return(a,c)=>{var p;return k(),_(C,null,[d("div",de,[(k(!0),_(C,null,Q(b(r),i=>(k(),_("div",{class:"mx-8 py-8",key:i},[te(b(ue),{modelValue:i.enabled,"onUpdate:modelValue":u=>i.enabled=u,class:$([[i.enabled?"bg-emerald-700":"bg-gray-700",i.name],"relative inline-flex h-[38px] w-[74px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"]),onClick:u=>b(s).updateToggle(i)},{default:ne(()=>[ce,d("span",{"aria-hidden":"true",class:$([i.enabled?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[34px] w-[34px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:2},1032,["modelValue","onUpdate:modelValue","class","onClick"]),d("h2",null,U(i.name),1)]))),128))]),d("div",pe,[d("button",{onClick:c[0]||(c[0]=i=>n()),class:"mt-10 ml-3 flex w-1/4 items-center justify-center rounded-md border border-transparent bg-indigo-600 py-3 px-8 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Get Message "),X(d("button",fe," Only shows when SHOW_UI_BUTTON is on ",512),[[Z,(p=b(r).SHOW_UI_BUTTON)==null?void 0:p.enabled]])]),d("main",null,[d("div",me,[d("div",ve,[d("div",be,[d("h1",he,U(b(t)),1)])])])])],64)}}};export{we as default};
